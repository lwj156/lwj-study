# 多线程使用

## Tomcat

默认支持并发数`150`.

什么是并发：1s内可以支持的请求数

**服务器能够支持的并发**

> 硬件：CPU、内存、硬盘、网络
>
> 软件层面：线程数量、JVM内存分配大小、网络通信机制（BIO、NIO等）、磁盘IO



### 线程数量提高并发数

并行运行线程的数量=cpu的`内核数`



## 线程的生命周期

![img](%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%BD%BF%E7%94%A8.assets/image.png)

- BLOCKED和WAITING状态的区别：BLOCKED是锁阻塞



## 线程的启动



## 线程的终止

1. Thread.stop()：不建议使用，强制终止
2. Thread.







> 备注：
>
> 1. 短信平台：云片
>
> 如何排查服务器cpu高的问题
>
> 1. 通过top指令周到pid高的进程
> 2. 通过jps查看是哪个类
> 3. jstack分析

